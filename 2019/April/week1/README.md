# Weekly ARTS

- 使用滑动窗口计算中位数序列
- 让你的 README 和项目写得一样好
- Sphinx 与 CMake 应用示例
- 项目文档应该写什么

## Algorithm [480. Sliding Window Median](slidingwindow.md)

使用滑动窗口计算中位数序列.

## Review [让你的 README 和项目写得一样好](readme_howto.md)

## Technique [Sphinx 与 CMake 应用示例](sphinx_cmake.md)

## Share 项目文档应该写什么

项目搞了 5 年,换了 n 茬人,终于意识到文档的重要性了.但是面临一个严肃的问题,项目文档应该写什么?

如果要聊这个问题,首先得明确一些事情:

1. 项目文档为谁而写

   项目组目前面临的问题在于青黄不接,不仅仅是软件设计与实现上比较差,培养新人也没有合适的方式方法,导致迟迟无法工作,即使是"老人",也是不能做这个不敢改那个.

   写文档是为开发写的,但是有两个方向,一个是面向新人培养,另一个是面向代码维护.

2. 文档的生命周期

   文档和代码一样,都是从需求而生,也要不断地调整,维护,最终走向稳定/死亡.一旦做了,和代码的生命周期就捆绑到一起.

3. "性价比"

   对于项目管理者来说,比较关注的是这个,如果投入很大精力写了详尽的文档,结果后续调整后大部分文档废掉了,是严重的资源浪费,而持续投入精力维护,有时候又觉得得不偿失.如果只是粗略地写一些文档,又达不成想要的效果.

我目前的看法是,项目文档应当聚集精力在为"新人"提供引导,为什么呢?

- 具体的技术,譬如编程语言、数据库、显示引擎等等,属于开发者能够掌握,并且有大量外部资料的内容,而项目真正需要描述的,是用什么技术解决了什么问题,项目特别之处在于它要解决的问题,开发者自然是有技术功底的,具体的技术都能够学会,项目的业务则很多情况下需要描述情况.

- 文档的生命周期和代码一样,实现的最终结果是代码,我们可以从代码整理出文档,却无法从文档生成代码,提供详实的文档并无必要,反而会成为累赘.开发者更需要的是问题和可以实际操作的解决办法,也就是说,在特定的阶段,只关注如何使用某一层次的 API,这时候示例会是更好的选择.

所以,如果是我来写项目文档,我会写如下内容:

1. 要解决的问题
2. 解决方案
3. 前置条件(需要了解的业务、技术)
4. 可运行的示例

根据项目的不同模块划分,来构建出知识图谱:

- 项目要解决的问题
- 拆分出的子问题
- 子问题的前置问题/业务
- 子问题实现方案是什么样的
- 使用到的公共技术
- 如何使用具体实现解决子问题(示例)
- 项目视角的示例(集成)

至于 API 的文档,可以考虑在源代码中提供(C++的头文件),抑或在示例中展示,或者了解一下怎么在不写文档的情况下让人理解你的 API.
