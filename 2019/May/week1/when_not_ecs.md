# [什么时候不使用 ECS?](https://hackernoon.com/when-not-to-use-ecs-48362c71cf47)

我看了一场由 Kirill Nadezhdin 带来的[精彩演讲](https://www.youtube.com/watch?v=pp5sYybOidg),是关于游戏开发中的 ECS 的.这个演讲使用的是俄语,不过应该很快就会有英文字幕.

在问答环节,有一个问题是关于什么时候不使用 ECS 的.这个问题经常出现,那些 ECS 的拥趸(包括我)总是很难回复,因为我们喜欢这个范式,很难找到你喜欢的东西的缺陷.而且,问题来自于错误的角度.ECS 总被视为库,但是实际上它更多地是关于思考方式的.那么问题应该是,什么时候我不按照这种方式思考...答案是:

> 当这种思维方式不能给你提供更多/任何好处时,不要以这种方式思考

然后下一个问题出现了:

> 我怎么才能知道,这种思考方式不会提供好处?

这个问题答案是:

> 嗯,你需要去想一想,或者尝试一下

---

我已经尝试并且使用 ECS 超过 5 年时间了.这里是我的想法:

有两种类型的计算:

- 纯计算,我们接收输入然后产生输出,应用程序的目的很单一,它的生命周期与计算本身有关.

- 交互式计算,系统随着时间运行并且接收输入

纯计算的示例有,编译器、批处理脚本等.

交互式计算的示例有,应用程序、游戏、仿真程序

以我的观点,当你需要编写纯计算软件时 ECS 不能给你提供多少帮助.ECS 的主要观点是状态和行为的分离.当我们进行纯粹的计算,我们应当沿着函数调用传递状态.所以在我看来,函数式编程范式是针对这种场景最合适的思考方式.

当我们进行交互式计算,随着时间的推移以及外部输入状态不断累积.这种场景下 ECS 是有用的.对于我来说,首先思考数据,有助于从头构建解耦的可扩展、简单的逻辑.在我看来,这是应用程序/游戏/仿真程序开发者最看重的品质.

然而,还有其他一些观点,你可能会站在基础设施开发角度去看.这意思是说,你的工作是为其他人提供可用的内容.你的构建内容必须有良好的接口,必须稳定.你需要构建一些容易使用的内容.这是我说的将复杂的内容简单化.作为中间人你需要提供一些类似于这样的内容.如果你处于这样的位置,那么面向对象编程的范式会给你带来最大的收益.

---

最终总结一下.

当你需要构建纯计算时使用函数式编程.

当你需要/想要构建一些通用的内容给其他人使用时,使用面向对象编程.

但是如果你是应用程序或者游戏开发者,ECS 的思维方式能够给你带来很多好处.
